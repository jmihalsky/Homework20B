{"ast":null,"code":"import _defineProperty from \"/Users/jeff/Documents/UCD_Bootcamp/Homework20B/client/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/jeff/Documents/UCD_Bootcamp/Homework20B/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/jeff/Documents/UCD_Bootcamp/Homework20B/client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/jeff/Documents/UCD_Bootcamp/Homework20B/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/jeff/Documents/UCD_Bootcamp/Homework20B/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/jeff/Documents/UCD_Bootcamp/Homework20B/client/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/jeff/Documents/UCD_Bootcamp/Homework20B/client/src/pages/BookSearch.js\";\nimport React, { Component } from \"react\";\nimport API from \"../utils/API\";\nimport Jumbotron from \"../components/Jumbotron\";\nimport BookResults from \"../components/bookresults\";\nimport SearchBar from \"../components/searchbar\";\n\nvar BookSearch =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(BookSearch, _Component);\n\n  function BookSearch() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, BookSearch);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(BookSearch)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      search: \"\",\n      SearchAmt: \"\",\n      results: [],\n      error: \"\",\n      good: false\n    };\n\n    _this.handleInputChange = function (event) {\n      var _event$target = event.target,\n          name = _event$target.name,\n          value = _event$target.value;\n      console.log(name, value);\n\n      _this.setState(_defineProperty({}, name, value));\n\n      console.log(_this.state.SearchAmt);\n    };\n\n    _this.handleBookSearch = function (event) {\n      console.log(_this.state.SearchAmt);\n\n      if (_this.state.SearchAmt === \"\") {\n        console.log(\"working\");\n\n        _this.setState({\n          SearchAmt: \"5\"\n        });\n      }\n\n      API.searchBook(_this.state.search, _this.state.SearchAmt).then(function (res) {\n        console.log(res.data);\n\n        _this.setState({\n          results: res.data.items,\n          good: true\n        });\n      }).catch(function (err) {\n        return _this.setState({\n          error: err\n        });\n      });\n    };\n\n    _this.handleRenderingResults = function () {\n      if (_this.state.results) {\n        console.log(_this.state);\n\n        var newArray = _this.state.results.map(function (b) {\n          return React.createElement(BookResults, {\n            handleSavingBooks: _this.handleSavingBooks,\n            key: b.volumeInfo.title,\n            authors: b.volumeInfo.authors,\n            title: b.volumeInfo.title,\n            publisher: b.volumeInfo.publisher,\n            thumbnail: b.volumeInfo.imageLinks.thumbnail,\n            description: b.volumeInfo.description,\n            link: b.volumeInfo.canonicalVolumeLink,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 40\n            },\n            __self: this\n          });\n        });\n\n        return newArray;\n      } else {\n        _this.handleEmptyResults();\n      }\n    };\n\n    _this.handleEmptyResults = function () {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }, React.createElement(Jumbotron, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }, \"No Books Found\")));\n    };\n\n    _this.handleSavingBooks = function (authors, title, publisher, thumbnail, description, link) {\n      var newBook = {\n        authors: authors,\n        title: title,\n        publisher: publisher,\n        thumbnail: thumbnail,\n        description: description,\n        link: link\n      };\n      API.saveBook(newBook).then(function (res) {\n        console.log(res);\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(BookSearch, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, React.createElement(SearchBar, {\n        handleBookSearch: this.handleBookSearch,\n        handleInputChange: this.handleInputChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }), !this.state.results.length ? this.handleEmptyResults() : this.handleRenderingResults());\n    }\n  }]);\n\n  return BookSearch;\n}(Component);\n\nexport { BookSearch as default };","map":{"version":3,"sources":["/Users/jeff/Documents/UCD_Bootcamp/Homework20B/client/src/pages/BookSearch.js"],"names":["React","Component","API","Jumbotron","BookResults","SearchBar","BookSearch","state","search","SearchAmt","results","error","good","handleInputChange","event","target","name","value","console","log","setState","handleBookSearch","searchBook","then","res","data","items","catch","err","handleRenderingResults","newArray","map","b","handleSavingBooks","volumeInfo","title","authors","publisher","imageLinks","thumbnail","description","canonicalVolumeLink","handleEmptyResults","link","newBook","saveBook","length"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport API from \"../utils/API\";\nimport Jumbotron from \"../components/Jumbotron\";\nimport BookResults from \"../components/bookresults\";\nimport SearchBar from \"../components/searchbar\";\n\nexport default class BookSearch extends Component {\n    state = {\n        search: \"\",\n        SearchAmt: \"\",\n        results: [],\n        error: \"\",\n        good: false\n    };\n\n    handleInputChange = (event) => {\n        const {name, value } = event.target;\n        console.log(name, value);\n        this.setState({ [name]: value});\n        console.log(this.state.SearchAmt);\n    }\n\n    handleBookSearch = (event) => {\n        console.log(this.state.SearchAmt);\n        if (this.state.SearchAmt === \"\")\n        {\n            console.log(\"working\");\n            this.setState({SearchAmt: \"5\"});\n        }\n        API.searchBook(this.state.search, this.state.SearchAmt).then((res) => {\n            console.log(res.data);\n            this.setState({results: res.data.items, good: true});\n        }).catch(err => this.setState({error: err}));\n    }\n\n    handleRenderingResults = () => {\n        if (this.state.results) {\n            console.log(this.state)\n            var newArray = this.state.results.map(b => {\n                return <BookResults \n                handleSavingBooks={this.handleSavingBooks} \n                key={b.volumeInfo.title} \n                authors={b.volumeInfo.authors} \n                title={b.volumeInfo.title} \n                publisher={b.volumeInfo.publisher} \n                thumbnail={b.volumeInfo.imageLinks.thumbnail} \n                description={b.volumeInfo.description} \n                link={b.volumeInfo.canonicalVolumeLink}/> \n            })\n            return newArray;\n        }\n        else\n        {\n            this.handleEmptyResults();\n        }\n    }\n\n    handleEmptyResults = () => {\n        return <div><Jumbotron><h2>No Books Found</h2></Jumbotron></div>\n    }\n\n    handleSavingBooks = (authors, title, publisher, thumbnail, description, link) => {\n        var newBook = {\n            authors: authors,\n            title: title,\n            publisher: publisher,\n            thumbnail: thumbnail,\n            description: description,\n            link: link\n        };\n        API.saveBook(newBook).then(res => {\n            console.log(res);\n\n        })\n    }\n\n    render() {\n        return(\n            <div>\n                <SearchBar handleBookSearch={this.handleBookSearch} handleInputChange={this.handleInputChange}/>\n                {!this.state.results.length ? this.handleEmptyResults() : this.handleRenderingResults()}\n            </div>\n        );\n    }\n}"]},"metadata":{},"sourceType":"module"}